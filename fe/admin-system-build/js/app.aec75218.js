(function(){"use strict";var e={5578:function(e,a,t){var r=t(6369),o=function(){var e=this,a=e._self._c;return a("div",{attrs:{id:"app"}},[a("nav",[a("router-link",{attrs:{to:"/"}})],1),a("router-view")],1)},s=[],n=t(1001),i={},l=(0,n.Z)(i,o,s,!1,null,null,null),c=l.exports,m=t(2631),h=function(){var e=this,a=e._self._c;return a("div",{staticClass:"home"},[a("br"),a("h1",[e._v("用户管理系统")]),a("br"),a("br"),a("div",{staticClass:"block",staticStyle:{},on:{click:e.toChangeAdminInfo}},[a("el-avatar",{staticStyle:{cursor:"pointer"},attrs:{size:100,src:e.avatarURL}})],1),a("div",{staticClass:"search-container"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入用户名进行检索"},model:{value:e.searchInput,callback:function(a){e.searchInput=a},expression:"searchInput"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchUser},slot:"append"})],1)],1),a("div",{staticClass:"homeContainer"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"max-height":"500"}},[a("el-table-column",{attrs:{prop:"name",label:"用户名",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:{highlighted:t.row.highlighted}},[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{prop:"email",label:"电子邮箱",width:"200"}}),a("el-table-column",{attrs:{prop:"password",label:"密码",width:"150"}}),a("el-table-column",{attrs:{prop:"phoneNumber",label:"手机号",width:"150"}}),a("el-table-column",{attrs:{prop:"remarks",label:"备注",width:"90"}}),a("el-table-column",{attrs:{prop:"loginPrivilege",label:"允许登录",width:"90"}}),a("el-table-column",{attrs:{fixed:"right",prop:"change",label:"查看用户信息",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.toCheckUserInfo(t.$index,e.tableData)}}},[e._v(" 查看信息 ")])]}}])}),a("el-table-column",{attrs:{fixed:"right",prop:"change",label:"更改用户信息",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning"},on:{click:function(a){return e.toChangeUserInfo(t.$index,e.tableData)}}},[e._v(" 更改信息 ")])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"改变登陆权限",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.changeLoginPrivilege(t.$index,e.tableData)}}},[e._v(" 更改权限 ")])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"删除用户",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.deleteRow(t.$index,e.tableData)}}},[e._v(" 移除 ")])]}}])})],1)],1),a("el-button",{attrs:{round:""},on:{click:e.addUser}},[e._v("添加用户")]),a("el-button",{attrs:{round:""},on:{click:e.logout}},[e._v("退出登录")]),a("el-button",{attrs:{round:"",type:"danger",title:"管理员信息及用户列表将被删除！"},on:{click:e.deleteAdmin}},[e._v("注销管理员账户")]),a("el-button",{attrs:{type:"info",round:""},on:{click:e.testUserLogin}},[e._v("测试用户登录")])],1)},d=[],u=(t(6229),t(7330),t(2062),t(7658),t(4161)),p=t(8499),g=t.n(p),f={name:"HomeView",data(){return{circleUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",squareUrl:"https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png",avatarURL:"",userAvatarURL:[],searchInput:"",adminInfo:{loginName:""},deleteName:{userName:"",adminName:""},tableData:[]}},created(){this.adminInfo.loginName=this.$route.query.loginName||"",this.fetchUserData(),this.locateAvatar()},methods:{async fetchUserData(){try{const e=await u.Z.post("http://localhost:8080/fetchUserData",this.adminInfo,{headers:{"Content-Type":"application/json"}});this.tableData=e.data}catch(e){throw console.error(e),e}},async locateAvatar(){try{const e=await u.Z.post("http://localhost:8080/locateAvatar",this.adminInfo,{headers:{"Content-Type":"application/json"},responseType:"blob"}),a=e.data,t=URL.createObjectURL(a);this.avatarURL=t}catch(e){throw console.error(e),e}},toChangeAdminInfo(){this.$router.push({path:"/ChangeAdminInfoView",query:{loginName:this.adminInfo.loginName}})},async deleteRow(e,a){this.deleteName.adminName=this.adminInfo.loginName,this.deleteName.userName=a[e].name;try{await u.Z.post("http://localhost:8080/deleteUserByName",this.deleteName,{headers:{"Content-Type":"application/json"}});console.log("message")}catch(t){throw console.error(t),t}this.fetchUserData()},async changeLoginPrivilege(e,a){this.deleteName.adminName=this.adminInfo.loginName,this.deleteName.userName=a[e].name;try{await u.Z.post("http://localhost:8080/changeLoginPrivilege",this.deleteName,{headers:{"Content-Type":"application/json"}});console.log("message")}catch(t){throw console.error(t),t}this.fetchUserData()},toChangeUserInfo(e,a){this.$router.push({path:"/ChangeUserInfoView",query:{loginName:this.adminInfo.loginName,userName:a[e].name}})},addUser(){this.$router.push({path:"/AddUserView",query:{loginName:this.adminInfo.loginName}})},logout(){this.$router.push({path:"/"})},searchUser(){const e=this.searchInput.trim();if(0==e)this.$message.error("请在输入框内输入用户名！");else{let a=0;this.tableData.forEach(((t,r)=>{t.name===e&&(this.toShowUserInfo(this.tableData[r].name),a=1)})),0==a&&this.$message.error("该用户不存在！")}},async deleteAdmin(){try{await u.Z.post("http://localhost:8080/deleteAdmin",this.adminInfo,{headers:{"Content-Type":"application/json"}});console.log("message"),this.$router.push({path:"/"})}catch(e){throw console.error(e),e}},async toCheckUserInfo(e,a){this.$router.push({path:"/CheckUserInfoView",query:{loginName:this.adminInfo.loginName,userName:a[e].name}})},async toShowUserInfo(e){this.$router.push({path:"/ChangeUserInfoView",query:{loginName:this.adminInfo.loginName,userName:e}})},async testUserLogin(){this.$router.push({path:"/TestUserLoginView",query:{loginName:this.adminInfo.loginName}})}}},b=f,v=(0,n.Z)(b,h,d,!1,null,null,null),y=v.exports,F=function(){var e=this,a=e._self._c;return a("body",{attrs:{id:"poster"}},[a("h1",{staticStyle:{"text-align":"center"}},[e._v("管理员登录")]),a("el-form",{staticClass:"login-container",attrs:{"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"login_title"},[e._v(" 系统登录 "),a("el-button",{on:{click:function(a){return e.toRegister()}}},[e._v("点我注册")])],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{type:"text",placeholder:"用户名",autocomplete:"off"},model:{value:e.loginForm.loginName,callback:function(a){e.$set(e.loginForm,"loginName",a)},expression:"loginForm.loginName"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{type:"password",placeholder:"密码",autocomplete:"off"},model:{value:e.loginForm.password,callback:function(a){e.$set(e.loginForm,"password",a)},expression:"loginForm.password"}})],1),a("el-form-item",{staticStyle:{"text-align":"center",width:"100%"}},[a("el-button",{staticStyle:{width:"100%","background-color":"#505458",border:"none"},attrs:{type:"primary"},on:{click:function(a){return e.Login()}}},[e._v("登录")])],1)],1)],1)},w=[],k={name:"LoginView",data(){return{loginForm:{loginName:"",password:""}}},methods:{async Login(){try{this.loginForm.loginName&&this.loginForm.password?(await this.sendDataToBackend(),this.$message({message:"成功登录，欢迎来到用户管理系统",type:"success"}),this.$router.push({path:"/Home",query:{loginName:this.loginForm.loginName}})):this.$message.error("请填写完整的登录信息")}catch(e){this.$message.error("登陆失败，请检查用户名或密码是否正确"),console.error(e)}},toRegister(){this.$router.push({path:"/RegisterView"})},async sendDataToBackend(){try{const e=await u.Z.post("http://localhost:8080/verifyLoginData",this.loginForm,{headers:{"Content-Type":"application/json"}});console.log(e.data)}catch(e){throw console.error(e),e}}}},N=k,U=(0,n.Z)(N,F,w,!1,null,null,null),$=U.exports,A=function(){var e=this,a=e._self._c;return a("div",{staticClass:"root"},[a("h1",[e._v("管理员注册")]),a("br"),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:8080/uploadAvatarFile","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("el-form",{ref:"registerForm",staticClass:"register-container",attrs:{model:e.registerForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:e.registerForm.name,callback:function(a){e.$set(e.registerForm,"name",a)},expression:"registerForm.name"}})],1),a("el-form-item",{attrs:{label:"电子邮箱"}},[a("el-input",{model:{value:e.registerForm.email,callback:function(a){e.$set(e.registerForm,"email",a)},expression:"registerForm.email"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:e.registerForm.password,callback:function(a){e.$set(e.registerForm,"password",a)},expression:"registerForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码"}},[a("el-input",{on:{input:e.confirmPasswordFunc},model:{value:e.confirmPassword,callback:function(a){e.confirmPassword=a},expression:"confirmPassword"}}),a("h5",{staticStyle:{color:"red"}},[e._v(e._s(e.confirmWarn))])],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{type:"number"},model:{value:e.registerForm.phoneNumber,callback:function(a){e.$set(e.registerForm,"phoneNumber",a)},expression:"registerForm.phoneNumber"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.registerForm.remarks,callback:function(a){e.$set(e.registerForm,"remarks",a)},expression:"registerForm.remarks"}})],1),a("div",[a("el-button",{staticStyle:{width:"100%","background-color":"#505458",border:"none"},attrs:{type:"primary"},on:{click:e.Register}},[e._v("确认注册")])],1),a("br"),a("div",[a("el-button",{staticStyle:{width:"100%","background-color":"#505458",border:"none"},attrs:{type:"primary"},on:{click:e.Cancel}},[e._v("取消")])],1)],1)],1)},C=[],x={name:"RegisterView",data(){return{imageUrl:"",confirmPassword:"",confirmWarn:"",registerForm:{name:"",email:"",password:"",phoneNumber:"",avatarFilename:"",remarks:""}}},methods:{async Register(){try{this.registerForm.name&&this.registerForm.email&&this.registerForm.password&&this.registerForm.phoneNumber?(await this.sendDataToBackend(),this.$message({message:"注册成功，欢迎来到用户管理系统",type:"success"}),this.$router.push({path:"/Home",query:{loginName:this.registerForm.name}})):this.$message.error("请填写完整的注册信息")}catch(e){e.response?(409===e.response.status?this.$message.error("该用户名已存在！"):this.$message.error("注册失败，请重新注册或联系管理员"),console.error(e)):(this.$message.error("注册失败，请重新注册或联系管理员"),console.error(e))}},handleAvatarSuccess(e,a){this.imageUrl=URL.createObjectURL(a.raw),u.Z.get("http://localhost:8080/getAvatarFilename").then((e=>{const a=e.data.filename;this.registerForm.avatarFilename=a})).catch((e=>{console.error("Error:",e)}))},beforeAvatarUpload(e){const a="image/jpeg"===e.type,t=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&t},confirmPasswordFunc(){return this.registerForm.password===this.confirmPassword?void(this.confirmWarn=""):void(this.confirmWarn="密码不一致，请从新填写！")},async sendDataToBackend(){try{const e=await u.Z.post("http://localhost:8080/uploadData",this.registerForm,{headers:{"Content-Type":"application/json"}});console.log(e.data)}catch(e){throw console.error(e),e}},Cancel(){this.$router.push({path:"/"})}}},_=x,D=(0,n.Z)(_,A,C,!1,null,null,null),I=D.exports,L=function(){var e=this,a=e._self._c;return a("div",{staticClass:"root"},[a("h1",[e._v("修改用户信息")]),a("br"),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:8080/changeAvatarFile","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("el-form",{ref:"changeForm",staticClass:"register-container",attrs:{model:e.changeForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{value:e.changeForm.name},model:{value:e.changeForm.name,callback:function(a){e.$set(e.changeForm,"name",a)},expression:"changeForm.name"}})],1),a("el-form-item",{attrs:{label:"电子邮箱"}},[a("el-input",{attrs:{value:e.changeForm.email},model:{value:e.changeForm.email,callback:function(a){e.$set(e.changeForm,"email",a)},expression:"changeForm.email"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{value:e.changeForm.password},model:{value:e.changeForm.password,callback:function(a){e.$set(e.changeForm,"password",a)},expression:"changeForm.password"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{type:"number",value:e.changeForm.phoneNumber},model:{value:e.changeForm.phoneNumber,callback:function(a){e.$set(e.changeForm,"phoneNumber",a)},expression:"changeForm.phoneNumber"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{value:e.changeForm.remarks},model:{value:e.changeForm.remarks,callback:function(a){e.$set(e.changeForm,"remarks",a)},expression:"changeForm.remarks"}})],1),a("div",[a("el-button",{staticStyle:{width:"100%","background-color":"#505458",border:"none"},attrs:{type:"primary"},on:{click:e.ConfirmChange}},[e._v("确认修改")])],1),a("br"),a("div",[a("el-button",{staticStyle:{width:"100%","background-color":"#505458",border:"none"},attrs:{type:"primary"},on:{click:e.Cancel}},[e._v("取消")])],1)],1)],1)},S=[],T={name:"ChangeUserInfoView",data(){return{imageUrl:"",avatarURL:"",changeInfo:{adminName:"",userName:""},changeForm:{name:"",email:"",password:"",phoneNumber:"",remarks:"",adminName:"",userAvatarName:"",originalUserName:"",loginPrivilege:""},originalUserData:{name:"",email:"",password:"",phoneNumber:"",remarks:""}}},created(){this.changeForm.adminName=this.$route.query.loginName||"",this.changeInfo.adminName=this.$route.query.loginName||"",this.changeInfo.userName=this.$route.query.userName||"",this.getOriginalUserData(),this.locateUserAvatar(),this.getOriginalAvatarName(),this.getLoginPrivilege()},methods:{async locateUserAvatar(){try{const e=await u.Z.post("http://localhost:8080/locateUserAvatar",this.changeInfo,{headers:{"Content-Type":"application/json"},responseType:"blob"}),a=e.data,t=URL.createObjectURL(a);this.avatarURL=t}catch(e){throw console.error(e),e}this.imageUrl=this.avatarURL},async getOriginalAvatarName(){try{const e=await u.Z.post("http://localhost:8080/getOriginalAvatarName",this.changeInfo,{headers:{"Content-Type":"application/json"}});this.changeForm.userAvatarName=e.data.originalAvatarName}catch(e){throw console.error(e),e}},async getLoginPrivilege(){try{const e=await u.Z.post("http://localhost:8080/getLoginPrivilege",this.changeInfo,{headers:{"Content-Type":"application/json"}});this.changeForm.loginPrivilege=e.data.loginPrivilege}catch(e){throw console.error(e),e}},async getOriginalUserData(){try{const e=await u.Z.post("http://localhost:8080/getOriginalUserData",this.changeInfo,{headers:{"Content-Type":"application/json"}});this.originalUserData=e.data}catch(e){throw console.error(e),e}this.changeForm.name=this.originalUserData.name,this.changeForm.email=this.originalUserData.email,this.changeForm.password=this.originalUserData.password,this.changeForm.phoneNumber=this.originalUserData.phoneNumber,this.changeForm.originalUserName=this.originalUserData.name,this.changeForm.remarks=this.originalUserData.remarks},async handleAvatarSuccess(e,a){this.imageUrl=URL.createObjectURL(a.raw),u.Z.get("http://localhost:8080/getAvatarFilename").then((e=>{const a=e.data.filename;this.changeForm.userAvatarName=a})).catch((e=>{console.error("Error:",e)}))},beforeAvatarUpload(e){const a="image/jpeg"===e.type,t=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&t},async ConfirmChange(){try{this.changeForm.name&&this.changeForm.email&&this.changeForm.password&&this.changeForm.phoneNumber?(await this.sendDataToBackend(),this.$message({message:"修改成功，欢迎回到用户管理系统",type:"success"}),this.$router.push({path:"/Home",query:{loginName:this.changeInfo.adminName}})):this.$message.error("请填写完整的修改信息")}catch(e){this.$message.error("修改失败，请重新注册或联系管理员"),console.error(e)}},async sendDataToBackend(){try{const e=await u.Z.post("http://localhost:8080/changeData",this.changeForm,{headers:{"Content-Type":"application/json"}});console.log(e.data)}catch(e){throw console.error(e),e}},Cancel(){this.$router.push({path:"/Home",query:{loginName:this.changeInfo.adminName}})}}},j=T,R=(0,n.Z)(j,L,S,!1,null,null,null),O=R.exports,Z=function(){var e=this,a=e._self._c;return a("div",{staticClass:"root"},[a("h1",[e._v("添加用户")]),a("br"),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:8080/uploadAvatarFile","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("el-form",{ref:"addForm",staticClass:"register-container",attrs:{model:e.addForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:e.addForm.name,callback:function(a){e.$set(e.addForm,"name",a)},expression:"addForm.name"}})],1),a("el-form-item",{attrs:{label:"电子邮箱"}},[a("el-input",{model:{value:e.addForm.email,callback:function(a){e.$set(e.addForm,"email",a)},expression:"addForm.email"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{model:{value:e.addForm.password,callback:function(a){e.$set(e.addForm,"password",a)},expression:"addForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码"}},[a("el-input",{on:{input:e.confirmPasswordFunc},model:{value:e.confirmPassword,callback:function(a){e.confirmPassword=a},expression:"confirmPassword"}}),a("h5",{staticStyle:{color:"red"}},[e._v(e._s(e.confirmWarn))])],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{type:"number"},model:{value:e.addForm.phoneNumber,callback:function(a){e.$set(e.addForm,"phoneNumber",a)},expression:"addForm.phoneNumber"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{model:{value:e.addForm.remarks,callback:function(a){e.$set(e.addForm,"remarks",a)},expression:"addForm.remarks"}})],1),a("div",[a("el-button",{staticStyle:{width:"100%","background-color":"#505458",border:"none"},attrs:{type:"primary"},on:{click:e.AddUser}},[e._v("确认添加")])],1),a("br"),a("div",[a("el-button",{staticStyle:{width:"100%","background-color":"#505458",border:"none"},attrs:{type:"primary"},on:{click:e.Cancel}},[e._v("取消")])],1)],1)],1)},P=[],V={name:"AddUserView",data(){return{imageUrl:"",confirmPassword:"",confirmWarn:"",addForm:{name:"",email:"",password:"",phoneNumber:"",avatarFilename:"",remarks:"",adminName:""}}},created(){this.addForm.adminName=this.$route.query.loginName||""},methods:{handleAvatarSuccess(e,a){this.imageUrl=URL.createObjectURL(a.raw),u.Z.get("http://localhost:8080/getAvatarFilename").then((e=>{const a=e.data.filename;this.addForm.avatarFilename=a})).catch((e=>{console.error("Error:",e)}))},beforeAvatarUpload(e){const a="image/jpeg"===e.type,t=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&t},confirmPasswordFunc(){return this.addForm.password===this.confirmPassword?void(this.confirmWarn=""):void(this.confirmWarn="密码不一致，请从新填写！")},async AddUser(){try{this.addForm.name&&this.addForm.email&&this.addForm.password&&this.addForm.phoneNumber?(await this.sendDataToBackend(),this.$message({message:"添加成功，欢迎回到用户管理系统",type:"success"}),this.$router.push({path:"/Home",query:{loginName:this.addForm.adminName}})):this.$message.error("请填写完整的要添加的用户信息")}catch(e){this.$message.error("添加失败，请重新添加或联系管理员"),console.error(e)}},async sendDataToBackend(){try{const e=await u.Z.post("http://localhost:8080/addUser",this.addForm,{headers:{"Content-Type":"application/json"}});console.log(e.data)}catch(e){throw console.error(e),e}},Cancel(){this.$router.push({path:"/Home",query:{loginName:this.addForm.adminName}})}}},q=V,B=(0,n.Z)(q,Z,P,!1,null,null,null),H=B.exports,M=function(){var e=this,a=e._self._c;return a("div",{staticClass:"root"},[a("h1",[e._v("修改管理员信息")]),a("br"),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:8080/changeAvatarFile","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("el-form",{ref:"changeForm",staticClass:"register-container",attrs:{model:e.changeForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{value:e.changeForm.name},model:{value:e.changeForm.name,callback:function(a){e.$set(e.changeForm,"name",a)},expression:"changeForm.name"}})],1),a("el-form-item",{attrs:{label:"电子邮箱"}},[a("el-input",{attrs:{value:e.changeForm.email},model:{value:e.changeForm.email,callback:function(a){e.$set(e.changeForm,"email",a)},expression:"changeForm.email"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{value:e.changeForm.password},model:{value:e.changeForm.password,callback:function(a){e.$set(e.changeForm,"password",a)},expression:"changeForm.password"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{type:"number",value:e.changeForm.phoneNumber},model:{value:e.changeForm.phoneNumber,callback:function(a){e.$set(e.changeForm,"phoneNumber",a)},expression:"changeForm.phoneNumber"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{value:e.changeForm.remarks},model:{value:e.changeForm.remarks,callback:function(a){e.$set(e.changeForm,"remarks",a)},expression:"changeForm.remarks"}})],1),a("div",[a("el-button",{staticStyle:{width:"100%","background-color":"#505458",border:"none"},attrs:{type:"primary"},on:{click:e.ConfirmChange}},[e._v("确认修改")])],1),a("br"),a("div",[a("el-button",{staticStyle:{width:"100%","background-color":"#505458",border:"none"},attrs:{type:"primary"},on:{click:e.Cancel}},[e._v("取消")])],1)],1)],1)},W=[],E={name:"ChangeAdminInfoView",data(){return{imageUrl:"",avatarURL:"",changeInfo:{loginName:""},changeForm:{name:"",email:"",password:"",phoneNumber:"",remarks:"",adminAvatarName:"",originalAdminName:""},originalAdminData:{name:"",email:"",password:"",phoneNumber:"",remarks:""}}},created(){this.changeForm.originalAdminName=this.$route.query.loginName||"",this.changeInfo.loginName=this.changeForm.originalAdminName,this.getOriginalAdminData(),this.locateAdminAvatar(),this.getOriginalAvatarName()},methods:{async getOriginalAdminData(){try{const e=await u.Z.post("http://localhost:8080/getOriginalAdminData",this.changeInfo,{headers:{"Content-Type":"application/json"}});this.originalAdminData=e.data}catch(e){throw console.error(e),e}this.changeForm.name=this.originalAdminData.name,this.changeForm.email=this.originalAdminData.email,this.changeForm.password=this.originalAdminData.password,this.changeForm.phoneNumber=this.originalAdminData.phoneNumber,this.changeForm.originalUserName=this.originalAdminData.name,this.changeForm.remarks=this.originalAdminData.remarks},async locateAdminAvatar(){try{const e=await u.Z.post("http://localhost:8080/locateAvatar",this.changeInfo,{headers:{"Content-Type":"application/json"},responseType:"blob"}),a=e.data,t=URL.createObjectURL(a);this.avatarURL=t}catch(e){throw console.error(e),e}this.imageUrl=this.avatarURL},async getOriginalAvatarName(){try{const e=await u.Z.post("http://localhost:8080/getOriginalAdminAvatarName",this.changeInfo,{headers:{"Content-Type":"application/json"}});this.changeForm.adminAvatarName=e.data.originalAvatarName}catch(e){throw console.error(e),e}},async handleAvatarSuccess(e,a){this.imageUrl=URL.createObjectURL(a.raw),u.Z.get("http://localhost:8080/getAvatarFilename").then((e=>{const a=e.data.filename;this.changeForm.adminAvatarName=a})).catch((e=>{console.error("Error:",e)}))},beforeAvatarUpload(e){const a="image/jpeg"===e.type,t=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&t},async ConfirmChange(){try{this.changeForm.name&&this.changeForm.email&&this.changeForm.password&&this.changeForm.phoneNumber?(await this.sendDataToBackend(),this.$message({message:"修改成功，欢迎回到用户管理系统",type:"success"}),this.$router.push({path:"/Home",query:{loginName:this.changeForm.name}})):this.$message.error("请填写完整的修改信息")}catch(e){this.$message.error("修改失败，请重新注册或联系管理员"),console.error(e)}},async sendDataToBackend(){try{const e=await u.Z.post("http://localhost:8080/changeAdminData",this.changeForm,{headers:{"Content-Type":"application/json"}});console.log(e.data)}catch(e){throw console.error(e),e}},Cancel(){this.$router.push({path:"/Home",query:{loginName:this.changeInfo.loginName}})}}},z=E,G=(0,n.Z)(z,M,W,!1,null,null,null),J=G.exports,K=function(){var e=this,a=e._self._c;return a("div",{staticClass:"root"},[a("h1",[e._v("查看用户信息")]),a("br"),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://localhost:8080/changeAvatarFile","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,disabled:!0}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("el-form",{ref:"checkForm",staticClass:"register-container",attrs:{model:e.checkForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{value:e.checkForm.name},model:{value:e.checkForm.name,callback:function(a){e.$set(e.checkForm,"name",a)},expression:"checkForm.name"}})],1),a("el-form-item",{attrs:{label:"电子邮箱"}},[a("el-input",{attrs:{value:e.checkForm.email},model:{value:e.checkForm.email,callback:function(a){e.$set(e.checkForm,"email",a)},expression:"checkForm.email"}})],1),a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{value:e.checkForm.password},model:{value:e.checkForm.password,callback:function(a){e.$set(e.checkForm,"password",a)},expression:"checkForm.password"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{type:"number",value:e.checkForm.phoneNumber},model:{value:e.checkForm.phoneNumber,callback:function(a){e.$set(e.checkForm,"phoneNumber",a)},expression:"checkForm.phoneNumber"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{value:e.checkForm.remarks},model:{value:e.checkForm.remarks,callback:function(a){e.$set(e.checkForm,"remarks",a)},expression:"checkForm.remarks"}})],1),a("div",[a("el-button",{staticStyle:{width:"100%","background-color":"#505458",border:"none"},attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返回")])],1)],1)],1)},Q=[],X={name:"CheckUserInfoView",data(){return{imageUrl:"",avatarURL:"",checkInfo:{adminName:"",userName:""},checkForm:{name:"",email:"",password:"",phoneNumber:"",remarks:"",adminName:"",userAvatarName:"",originalUserName:""},originalAdminData:{name:"",email:"",password:"",phoneNumber:"",remarks:""}}},created(){this.checkForm.adminName=this.$route.query.loginName||"",this.checkInfo.adminName=this.checkForm.adminName||"",this.checkInfo.userName=this.$route.query.userName||"",this.getOriginalUserData(),this.locateUserAvatar()},methods:{async locateUserAvatar(){try{const e=await u.Z.post("http://localhost:8080/locateUserAvatar",this.checkInfo,{headers:{"Content-Type":"application/json"},responseType:"blob"}),a=e.data,t=URL.createObjectURL(a);this.avatarURL=t}catch(e){throw console.error(e),e}this.imageUrl=this.avatarURL},async getOriginalUserData(){try{const e=await u.Z.post("http://localhost:8080/getOriginalUserData",this.checkInfo,{headers:{"Content-Type":"application/json"}});this.originalUserData=e.data}catch(e){throw console.error(e),e}this.checkForm.name=this.originalUserData.name,this.checkForm.email=this.originalUserData.email,this.checkForm.password=this.originalUserData.password,this.checkForm.phoneNumber=this.originalUserData.phoneNumber,this.checkForm.originalUserName=this.originalUserData.name,this.checkForm.remarks=this.originalUserData.remarks},async handleAvatarSuccess(e,a){this.imageUrl=URL.createObjectURL(a.raw),u.Z.get("http://localhost:8080/getAvatarFilename").then((e=>{const a=e.data.filename;this.changeForm.userAvatarName=a})).catch((e=>{console.error("Error:",e)}))},beforeAvatarUpload(e){const a="image/jpeg"===e.type,t=e.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&t},goBack(){this.$router.push({path:"/Home",query:{loginName:this.checkInfo.adminName}})}}},Y=X,ee=(0,n.Z)(Y,K,Q,!1,null,null,null),ae=ee.exports,te=function(){var e=this,a=e._self._c;return a("body",{attrs:{id:"poster"}},[a("h1",{staticStyle:{"text-align":"center"}},[e._v("用户登录")]),a("el-form",{staticClass:"login-container",attrs:{"label-position":"left","label-width":"0px"}},[a("h3",{staticClass:"login_title"},[e._v(" 系统登录 ")]),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{type:"text",placeholder:"用户名",autocomplete:"off"},model:{value:e.loginForm.loginName,callback:function(a){e.$set(e.loginForm,"loginName",a)},expression:"loginForm.loginName"}})],1),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{type:"password",placeholder:"密码",autocomplete:"off"},model:{value:e.loginForm.password,callback:function(a){e.$set(e.loginForm,"password",a)},expression:"loginForm.password"}})],1),a("el-form-item",{staticStyle:{"text-align":"center",width:"100%"}},[a("el-button",{staticStyle:{width:"100%","background-color":"#505458",border:"none"},attrs:{type:"primary"},on:{click:function(a){return e.Login()}}},[e._v("登录")])],1),a("el-form-item",{staticStyle:{"text-align":"center",width:"100%"}},[a("el-button",{staticStyle:{width:"100%","background-color":"#505458",border:"none"},attrs:{type:"primary"},on:{click:function(a){return e.goBack()}}},[e._v("返回")])],1)],1)],1)},re=[],oe={name:"TestUserLoginVew",data(){return{loginForm:{loginName:"",password:"",adminName:""}}},created(){this.loginForm.adminName=this.$route.query.loginName||""},methods:{async Login(){try{this.loginForm.loginName&&this.loginForm.password?(await this.sendDataToBackend(),this.$message({message:"成功登录",type:"success"})):this.$message.error("请填写完整的登录信息")}catch(e){this.$message.error("登陆失败，用户名/密码不正确或已被禁止登录"),console.error(e)}},async sendDataToBackend(){try{const e=await u.Z.post("http://localhost:8080/verifyUserLoginData",this.loginForm,{headers:{"Content-Type":"application/json"}});console.log(e.data)}catch(e){throw console.error(e),e}},goBack(){this.$router.push({path:"/Home",query:{loginName:this.loginForm.adminName}})}}},se=oe,ne=(0,n.Z)(se,te,re,!1,null,null,null),ie=ne.exports;r["default"].use(m.ZP);const le=[{path:"/",name:"LoginView",component:$},{path:"/RegisterView",name:"RegisterView",component:I},{path:"/home",name:"home",component:y},{path:"/ChangeUserInfoView",name:"ChangeUserInfoView",component:O},{path:"/AddUserView",name:"AddUserView",component:H},{path:"/ChangeAdminInfoView",name:"ChangeAdminInfoView",component:J},{path:"/CheckUserInfoView",name:"CheckUserInfoView",component:ae},{path:"/TestUserLoginView",name:"TestUserLoginView",component:ie}],ce=new m.ZP({routes:le});var me=ce,he=t(3822);r["default"].use(he.ZP);var de=new he.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});r["default"].config.productionTip=!1,r["default"].use(g()),new r["default"]({router:me,store:de,render:e=>e(c)}).$mount("#app")}},a={};function t(r){var o=a[r];if(void 0!==o)return o.exports;var s=a[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}t.m=e,function(){t.amdO={}}(),function(){var e=[];t.O=function(a,r,o,s){if(!r){var n=1/0;for(m=0;m<e.length;m++){r=e[m][0],o=e[m][1],s=e[m][2];for(var i=!0,l=0;l<r.length;l++)(!1&s||n>=s)&&Object.keys(t.O).every((function(e){return t.O[e](r[l])}))?r.splice(l--,1):(i=!1,s<n&&(n=s));if(i){e.splice(m--,1);var c=o();void 0!==c&&(a=c)}}return a}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[r,o,s]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,r){var o,s,n=r[0],i=r[1],l=r[2],c=0;if(n.some((function(a){return 0!==e[a]}))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(l)var m=l(t)}for(a&&a(r);c<n.length;c++)s=n[c],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(m)},r=self["webpackChunkadmin_system"]=self["webpackChunkadmin_system"]||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(5578)}));r=t.O(r)})();
//# sourceMappingURL=app.aec75218.js.map